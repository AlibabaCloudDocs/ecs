---
keyword: [按量付费, 停机不收费, 计算资源, 公网IP地址, 保留并收费, 停止模式]
---

# 按量付费实例停机不收费

开启按量付费实例停机不收费功能后，如果在本文中提及的触发条件下停止实例，则部分资源会被回收并停止收费，以降低相关费用、节约使用成本，但并不是所有ECS资源都停止收费。

## 停机不收费开启条件

支持停机不收费的实例必须满足以下条件：

-   网络类型为专有网络

    您可以将经典网络下的实例迁移至专有网络，具体操作请参见[经典网络迁移至专有网络](/cn.zh-CN/网络/经典网络迁移至专有网络.md)。

-   计费方式为按量付费（包括抢占式实例）

    您可以将包年包月实例转换为按量付费实例，具体操作请参见[包年包月转按量付费](/cn.zh-CN/产品定价/转换计费方式/包年包月转按量付费.md)。

-   实例规格族不包含本地存储

    包含本地存储能力的实例规格族不支持停机不收费，例如d1、d1ne、i1、i2、i2g和gn5。更多信息，请参见[实例规格族](/cn.zh-CN/实例/实例规格族.md)中的本地存储列。


停机不收费功能默认为关闭状态，您可以自行开启，具体操作请参见下文[开启默认按量付费实例停机不收费](#default)。

## 停机不收费适用资源

停机不收费功能可以在保留云服务器ECS的前提下回收部分资源，从而降低整体费用。

-   支持停机不收费的ECS资源包括：
    -   计算资源（vCPU和内存）
    -   固定公网IP地址和带宽
-   不支持停机不收费的ECS资源包括但不限于：
    -   系统盘
    -   实例上挂载的数据盘
    -   弹性公网IP（EIP）和带宽
    -   镜像
    -   快照

## 停机不收费触发条件

开启停机不收费后，实例因以下原因停机时，才能触发停机不收费。

-   ECS管理控制台，具体步骤请参见[停止实例](/cn.zh-CN/实例/管理实例/停止实例.md)。
-   通过阿里云CLI或SDK发起的API请求，详情请参见[StopInstance](/cn.zh-CN/API参考/实例/StopInstance.md)。
-   账号欠费自动停机。

**说明：** 在实例操作系统内部停止实例不能触发停机不收费。

如果实例处于启动期间，不能触发停机不收费。启动期间指创建实例后，第一次启动时从已停止状态到已运行状态之间的时间段。更多详情，请参见[实例生命周期介绍](/cn.zh-CN/实例/实例生命周期介绍.md)。

## 停机不收费影响

进入停机不收费状态后，计算资源（vCPU和内存）和固定公网IP地址被回收，不再产生费用，但存在以下风险。

-   由于计算资源（vCPU和内存）被回收，再次启动实例时可能因为库存不足导致启动失败。您可以稍后尝试再次启动，或者尝试换用其它实例规格，具体步骤请参见[按量付费实例变配规格](/cn.zh-CN/实例/升降配实例/修改实例规格/按量付费实例变配规格.md)。

    **说明：** 建议您提前尝试启动实例，避免因库存不足导致无法开机而影响业务。

-   由于实例的固定公网IP地址被回收，再次启动实例后，固定公网IP地址可能变更，但停机不收费不会导致私网IP地址变更。

    **说明：** 如果应用依赖指定的公网IP地址，建议您关闭停机不收费或者将固定公网IP地址转为EIP地址使用，具体操作请参见[关闭默认按量付费实例停机不收费](#section_4h6_utd_2yr)或[专有网络类型ECS公网IP转为弹性公网IP](/cn.zh-CN/网络/修改IPv4地址/专有网络类型ECS公网IP转为弹性公网IP.md)。

-   突发性能实例，当前CPU积分余额失效，不会继续获得CPU积分。再次启动实例后获得初始CPU积分，并开始获得CPU积分，更多突发性能实例CPU积分说明，请参见[CPU积分](/cn.zh-CN/实例/选择实例规格/突发型/突发性能实例概述.md)。

某些场景下可能需要短时间内再次启动实例，建议您关闭停机不收费，保证可以成功启动实例并投入生产使用。例如：

-   [更换系统盘](/cn.zh-CN/块存储/云盘基础操作/更换系统盘/更换系统盘（公共镜像）.md)（[ReplaceSystemDisk](/cn.zh-CN/API参考/块存储/ReplaceSystemDisk.md)）
-   [使用快照回滚云盘](/cn.zh-CN/块存储/云盘基础操作/使用快照回滚云盘.md)（[ResetDisk](/cn.zh-CN/API参考/块存储/ResetDisk.md)）
-   [重新初始化系统盘](/cn.zh-CN/块存储/云盘基础操作/重新初始化云盘/重新初始化系统盘.md)（[ReInitDisk](/cn.zh-CN/API参考/块存储/ReInitDisk.md)）

如果账号欠费停机，您在规定时间内结清欠费账单并重开机实例时，固定公网IP地址的保留情况由是否开启了停机不收费决定。

-   开启停机不收费：账号欠费停机后实例进入停机不收费状态，自动释放计算资源（vCPU和内存）和固定公网IP地址，重开机后固定公网IP地址可能变更。
-   未开启停机不收费：账号欠费停机后ECS资源暂停计费，自动释放计算资源（vCPU和内存），但保留固定公网IP地址，重开机后固定公网IP地址不变。

**说明：** 账号欠费会导致ECS实例停机。更多有关欠费后资源状态变化的说明，请参见[按量付费](/cn.zh-CN/产品定价/计费方式/按量付费.md)。

## 开启默认按量付费实例停机不收费

为防止对您的应用产生意外影响，默认您的账号不会开启停机不收费。请在确定您的应用适合使用停机不收费后再开启该功能，详情请参见[停机不收费影响](/cn.zh-CN/产品定价/计费方式/按量付费实例停机不收费.md)。

本节操作为您账号内所有地域下满足条件的实例开启默认停机不收费，停止实例时默认进入停机不收费状态，具体要求请参见[停机不收费开启条件](/cn.zh-CN/产品定价/计费方式/按量付费实例停机不收费.md)。

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。

2.  在**概览**页面的**常用功能**区域，单击**用户设置**。

    ![VPC内实例停机不收费-用户设置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7033259951/p77280.png)

3.  打开**VPC内实例停机不收费**开关。

4.  阅读提醒信息，然后单击**默认VPC内实例停机不收费**。

5.  单击**确定**。


## 关闭默认按量付费实例停机不收费

本节操作为您账号下的所有地域关闭默认停机不收费功能，停止实例时默认不会进入停机不收费状态。

但如果已经有实例进入停机不收费状态，则其计算资源（vCPU和内存）、固定公网IP地址已经被回收。因此，关闭默认停机不收费功能后，这些实例的计算资源（vCPU和内存）仍不收取费用，直至再次启动后重新分配了计算资源（vCPU和内存），IP地址的状态和IP地址类型有关。

-   如果实例停机前使用固定公网IP地址，会分配一个新的固定公网IP地址。
-   如果实例停机前绑定了EIP地址，则EIP地址保持不变。

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。

2.  在**概览**页面的**常用功能**区域，单击**用户设置**。

    ![VPC内实例停机不收费-用户设置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7033259951/p77280.png)

3.  关闭**VPC内实例停机不收费**开关。

4.  阅读提醒信息，然后单击**我同意并确定**。

5.  单击**确定**。


## 设置单台实例的停机不收费开关

开启或关闭默认按量付费实例停机不收费功能后，在停止单台实例时，您仍然可以选择停止模式。具体操作，请参见[停止实例](/cn.zh-CN/实例/管理实例/停止实例.md)。

-   选择**停止后仍旧保留实例并继续收费**，实例仍将进入保留并收费状态。
-   选择**停机不收费**，实例将进入停机不收费状态。

![停机不收费](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/7033259951/p52884.png)

## 相关文档

您也可以利用OOS定时开关机功能，自动化管理大批量实例的开关机时间，配合停机不收费功能节省成本。详情请参见[利用定时开关机节省成本]()。

