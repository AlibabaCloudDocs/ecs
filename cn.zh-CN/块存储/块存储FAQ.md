---
keyword: [essd云盘, 块存储, 存储包, 选购云盘, 挂载云盘, 格式化, 文件系统, 公测, 上线, 存储包, ssd云盘]
---

# 块存储FAQ

本文汇总了使用块存储时的常见问题。

-   存储容量单位包SCU问题
    -   [什么是存储容量单位包SCU？](#section_emy_jk9_ezz)
    -   [哪些块存储产品可以使用存储容量单位包SCU？](#section_f89_rep_dy5)
    -   [存储容量单位包SCU可以单独使用吗？](#section_kj0_pgc_ccr)
    -   [存储容量单位包SCU的抵扣规则是什么？](#section_n4r_cyq_psp)
    -   [SCU如何计费？](#section_dzj_hua_jn1)
    -   [SCU可以退款吗？](#section_3wm_4x8_l13)
-   ESSD云盘问题
    -   [什么是ESSD云盘？](#section_exq_8tt_oqw)
    -   [ESSD云盘提供的产品规格有哪些？](#section_cw3_bmw_boh)
    -   [相比SSD云盘或者高效云盘，ESSD云盘有哪些异同？](#section_amv_05u_7k0)
    -   [ESSD云盘的性能指标与产品规格是如何计算的？](#section_tn9_l2d_g0h)
    -   [如何测试ESSD云盘的性能？](#ESSDperfor)
    -   [ESSD云盘性能和实例性能有什么关系？](#section_l0c_cer_qu7)
    -   [ESSD云盘如何计费？](#section_6j1_ta3_nyy)
    -   [ESSD云盘能挂载到哪些实例规格族上？](#section_br8_0h3_7d6)
-   一般性问题
    -   [如何根据应用需求选择可用区？](#section_nks_1y2_gcr)
    -   [关于云盘的常用操作有哪些？](#section_xs4_pdh_fhb)
    -   [怎样可以查看块存储的使用情况和剩余空间？](#section_sf9_0jy_k1d)
    -   [我可以压缩云盘的容量吗？](#section_1oc_in1_pqy)
    -   [如何提前释放包年包月云盘？](#section_dyp_yj5_sex)
    -   [什么是I/O优化？我能将存量的ECS实例升级为I/O优化的实例吗？](#section_zxg_r7a_vdt)
-   性能测试问题
    -   [可以使用什么工具测试块存储性能？](#section_vyv_qlf_4rg)
    -   [为什么用FIO测试性能时，会导致实例宕机？](#section_gdt_ekx_3rp)
    -   [如何测试ESSD云盘的性能？](#ESSDperfor)
-   SSD云盘问题
    -   [SSD云盘具备怎样的I/O性能？](#section_f2w_rch_fhb)
    -   [SSD云盘适用于哪些应用场景？](#section_sf1_sch_fhb)
    -   [是否支持将原普通云盘更换成SSD云盘？](#section_z0c_kiu_c6o)
    -   [如何购买SSD云盘，I/O优化的实例及SSD云盘的价格是多少？](#section_gpx_xch_fhb)
    -   [购买SSD云盘后是否支持升级？](#section_n5t_cdh_fhb)
    -   [使用了I/O优化实例和SSD云盘之后，Linux系统在分区挂载的时候为什么报错？](#section_md2_ddh_fhb)
    -   [普通云盘和SSD云盘添加挂载信息时需要注意什么？](#section_vjf_tos_b2o)
-   挂载和卸载云盘问题
    -   [什么是设备名（挂载点）？](#section_c9t_aqp_8au)
    -   [什么是独立云盘？](#section_lth_2jp_fhb)
    -   [一块云盘可以挂载到多台ECS实例上吗？](#section_g5g_b2r_fhb)
    -   [购买了按量付费云盘并挂载到ECS实例后，还需要执行挂载分区的操作吗？](#section_gps_gpr_fhb)
    -   [为Linux实例购买了数据盘，但是系统中看不到怎么办？](#section_7hm_z6c_ttx)
    -   [一台实例能挂载多少块云盘？](#section_hl8_hn5_p3n)
    -   [为什么挂载云盘时找不到我想挂载的实例？](#section_ewk_3gr_fhb)
    -   [云盘和实例在不同的可用区，可以挂载吗？](#section_izt_uhb_fxk)
    -   [卸载云盘（数据盘）时，云盘数据会丢吗？](#section_xzy_pnk_by6)
    -   [系统盘能够卸载吗？](#section_2my_ijk_gy1)
-   独立云盘问题
    -   [单独购买的按量付费数据盘如何收费？](#section_v4m_b2r_fhb)
    -   [为什么我单独创建的云盘和我的实例一起释放了？](#section_bjw_8f4_ju1)
    -   [单独购买的按量付费数据盘能够挂载到包年包月ECS实例上吗？](#section_xtp_b2r_fhb)
    -   [包年包月ECS实例上的数据盘能卸载吗？](#section_tsb_3gr_fhb)
    -   [我已经操作过续费变配，在续费变配期内是否还能将包年包月云盘转为按量付费云盘？](#section_nql_jnr_fhb)
-   云盘快照问题
    -   [删除云盘的时候，快照会被保留吗？](#section_a41_mgr_fhb)
    -   [为什么我的云盘没有自动快照了？](#section_jvf_shr_fhb)
    -   [可以使用快照单独创建云盘吗？](#section_tz3_jnr_fhb)
-   重新初始化云盘问题
    -   [数据盘挂载问题导致数据无法访问，应该如何排查？](#section_fz4_jnr_fhb)
    -   [重新初始化云盘时，我的快照会丢失吗？](#section_mx6_x6w_wn8)
    -   [重启Linux系统ECS实例或者重新初始化系统盘后数据盘不见了怎么办？](#section_eja_zx1_w6o)
    -   [Linux系统ECS实例重新初始化系统盘后如何重新挂载数据盘？](#section_vaw_x75_0rr)
-   扩容云盘问题
    -   [更换系统盘时，我的快照会丢失吗？](#section_2u6_pq5_q3f)
    -   [更换系统盘应该注意什么问题？](#section_pc0_x40_gh9)
    -   [如何扩容系统盘？](#section_wdn_d4r_fhb)
    -   [系统盘扩容之后是否支持再缩容？](#section_iiz_k8i_vkr)
    -   [所有块存储都支持系统盘扩容吗？有地域限制吗？](#section_cbz_pdh_fhb)
    -   [包年包月和按量付费的ECS实例都支持扩容系统盘吗？](#section_tjd_xqr_fhb)
    -   [系统盘的容量范围是多少？最大能扩容到多少？](#section_nx3_xqr_fhb)
    -   [云服务器ECS续费变配后，不支持更换系统盘时指定系统盘容量吗？](#section_k1m_xqr_fhb)
    -   [如何利用快照创建云盘实现无损扩容数据盘？](#section_idx_soz_yoe)
    -   [为什么Linux系统ECS实例扩容云盘提示Bad magic number in super-block while trying to open /dev/xvdb1？](#section_td6_w72_q3x)
-   分区操作问题
    -   [数据盘能否再次划分出一个分区用作数据存储？](#section_ppz_43v_fhb)
    -   [划分了多个分区的云盘，创建的快照是针对单分区还是所有分区的？](#section_q5b_p3v_fhb)
    -   [云盘二次分区有哪些注意事项？](#section_nx1_3mv_fhb)
    -   [写入数据与分区格式化有什么关系？](#section_rhr_eke_n2u)
-   回滚云盘问题
    -   [数据盘进行二次分区后，此时回滚快照后，数据盘是几个分区？](#section_nyd_3mv_fhb)
    -   [回滚云盘时为什么报错“执行回滚磁盘需要停止实例，并且确保当前磁盘没有创建中的快照和没有更换过操作系统。”？](#section_psz_3vy_ghb)
-   其他问题
    -   [如何转移Linux实例系统盘中的数据？](#section_0ty_1b5_d3j)
    -   [如何跨ECS实例拷贝数据？](#section_i3j_nrv_fhb)
    -   [上一代云盘 - 本地SSD盘相关问题](#section_wfc_2jp_fhb)

## 什么是存储容量单位包SCU？

存储容量单位包SCU（Storage Capacity Unit）是一种预付费存储售卖形态，可以抵扣云盘等部分存储产品的按量付费账单。相比于随包年包月ECS实例购买云盘的模式，存储容量单位包SCU与按量付费云盘的组合使用，兼具性价比与资源使用的灵活性。更多详情，请参见[存储容量单位包概述](/cn.zh-CN/块存储/存储容量单位包/存储容量单位包概述.md)。

## 哪些块存储产品可以使用存储容量单位包SCU？

存储容量单位包SCU可以抵扣部分存储产品的按量付费账单，具体抵扣产品说明如下：

-   支持抵扣的块存储产品包括ESSD云盘、SSD云盘、高效云盘和普通云盘；不支持抵扣本地盘。
-   支持抵扣的NAS产品包括容量型NAS和性能型NAS；不支持抵扣极速型NAS和低频型NAS。
-   支持抵扣快照。
-   支持抵扣的OSS产品包括标准型OSS、低频型OSS和归档型OSS。

## 存储容量单位包SCU可以单独使用吗？

不可以。SCU必须匹配按量付费的云盘，抵扣按量付费账单，方可发挥作用。

## 存储容量单位包SCU的抵扣规则是什么？

SCU按照一定的折扣系数抵扣云盘的按量付费账单。更多详情，请参见[存储容量单位包抵扣规则](/cn.zh-CN/块存储/存储容量单位包/存储容量单位包抵扣规则.md)。

## SCU如何计费？

SCU按照容量定价，不同地域的价格不同。有关不同地域下SCU的价格列表，请参见[块存储定价页面](https://www.aliyun.com/price/product#/disk/detail)。

## SCU可以退款吗？

以下情况下，您可以申请退款：

-   购买SCU的五天内，可以申请无理由退款。

    **说明：** 每个阿里云账号每年只有一次五天无理由退款SCU的机会，即每个账号每年最多退款一次，可退还的上限是一个存储容量单位包。

-   其他情况，请[提交工单](https://selfservice.console.aliyun.com/ticket/createIndex.htm)联系阿里云客服处理。

退款时会扣除掉已经消费的金额，已使用的代金券等优惠折扣不退还。更多详情，请参见[退款规则及退款流程](https://help.aliyun.com/knowledge_detail/37096.htm)。

## 什么是ESSD云盘？

ESSD云盘，又称增强型（Enhanced）SSD云盘，是阿里云推出的超高性能云盘产品。ESSD云盘结合25GE网络和RDMA技术，为您提供单盘高达100万的随机读写能力和更低的单路时延能力。更多详情，请参见[ESSD云盘](/cn.zh-CN/块存储/块存储介绍/ESSD云盘.md)。

## ESSD云盘提供的产品规格有哪些？

ESSD云盘按照性能级别分为不同的规格。最新的ESSD云盘性能详情，请参见[ESSD云盘](/cn.zh-CN/块存储/块存储介绍/ESSD云盘.md)。

对于存储设备而言，不同的容量能达到的性能不同，容量越大，存储设备的数据处理能力越强。所有ESSD云盘性能级别的单位容量的I/O性能均一致，但云盘性能随容量增长而线性增长，直至达到该性能级别的单盘性能上限。

|性能级别|ESSD云盘容量范围（GiB）|最大IOPS|最大吞吐量（MB/s）|
|----|---------------|------|-----------|
|PL0|40~32,768|10,000|180|
|PL1|20~32,768|50,000|350|
|PL2|461~32,768|100,000|750|
|PL3|1,261~32,768|1,000,000|4,000|

## 相比SSD云盘或者高效云盘，ESSD云盘有哪些异同？

-   共同点：三种云盘都是基于分布式块存储架构的云盘类产品，具备高可靠和弹性扩容等特性，支持快照和加密等数据功能。
-   差异点：ESSD云盘的性能相比SSD云盘或者高效云盘都有大幅提升。详情请参见[ESSD云盘](/cn.zh-CN/块存储/块存储介绍/ESSD云盘.md)和[块存储性能](/cn.zh-CN/块存储/性能/块存储性能.md)。

## ESSD云盘的性能指标与产品规格是如何计算的？

ESSD云盘的性能与容量线性相关，容量越大性能越高，相比SSD云盘有大幅的性能提升。更多详情，请参见[ESSD云盘](/cn.zh-CN/块存储/块存储介绍/ESSD云盘.md)。

## 如何测试ESSD云盘的性能？

您可以通过FIO工具压测ESSD云盘性能。具体操作，请参见[压测ESSD云盘IOPS性能](/cn.zh-CN/块存储/性能/压测ESSD云盘IOPS性能.md)。

## ESSD云盘性能和实例性能有什么关系？

部分实例维度的存储I/O性能和实例规格成正比线性关系。例如，云服务器ECS存储增强型实例g6se的存储I/O性能跟实例规格成线性关系，同一类型的实例规格等级越高可获得的存储IOPS和吞吐量越高。

当您创建某个规格的g6se实例并挂载ESSD云盘时：

-   如果ESSD云盘的性能总和不超过实例规格族所对应的存储I/O能力，实际存储性能以ESSD云盘性能为准。
-   如果ESSD云盘的性能总和超过了实例规格族所对应的存储I/O能力，实际存储性能以该实例规格对应的存储I/O能力为准。

    例如，当您创建了ecs.g6se.xlarge 16GiB规格实例后，该实例最大存储IOPS为6万。如果挂载了1块存储I/O能力为2TiB的ESSD云盘（单盘IOPS为101800），该实例最大存储IOPS只能为6万，而无法达到2TiB ESSD云盘的101800IOPS。


云服务器ECS存储增强型实例g6se的规格及性能请参见[实例规格族](/cn.zh-CN/实例/实例规格族.md)。

## ESSD云盘如何计费？

支持包年包月和按量付费。具体价格请参见[价格详情页](http://www.aliyun.com/price/product#/ecs/detail)。

## ESSD云盘能挂载到哪些实例规格族上？

ESSD云盘支持的实例规格族，请参见[实例规格族](/cn.zh-CN/实例/实例规格族.md)。

## 可以使用什么工具测试块存储性能？

请参见[测试块存储性能](/cn.zh-CN/块存储/性能/测试块存储性能.md)。

## 为什么用FIO测试性能时，会导致实例宕机？

FIO测试工具支持裸盘分区、文件系统两种方式测试I/O性能。如果您直接测试裸盘分区，会破坏裸盘分区中的文件系统元数据，导致无法访问该裸盘分区中的文件，甚至导致实例宕机。使用FIO的文件系统测试性能方式时，不存在上述问题。

## 如何根据应用需求选择可用区？

按量付费的云盘只能挂载到同一可用区的ECS实例上。

-   针对高可用性应用，建议您在不同可用区中创建多块数据盘，并挂载到对应可用区中的ECS实例上。
-   针对低网络延时应用，建议您在同一可用区中创建数据盘，并挂载到该可用区中的ECS实例上。

## 关于云盘的常用操作有哪些？

关于云盘的常见操作，请参见[云盘概述](/cn.zh-CN/块存储/块存储介绍/云盘概述.md)的相关操作章节。

## 怎样可以查看块存储的使用情况和剩余空间？

您可以登录ECS实例，在实例内部查看块存储的使用情况和剩余空间。ECS管理控制台和ECS API暂时无法查看该类信息。

## 我可以压缩云盘的容量吗？

阿里云不支持缩容云盘空间。如果您购买的云盘空间较大需要减小容量，建议您先创建并挂载一个合适容量的新云盘，拷贝旧盘所需数据到新盘上，再释放旧盘。

## 如何提前释放包年包月云盘？

阿里云不支持释放包年包月数据盘。您可以转换计费方式为按量付费后再释放云盘，释放云盘前请确认您已备份重要数据。详情请参见[转换云盘计费方式](/cn.zh-CN/块存储/云盘基础操作/转换云盘计费方式.md)和[释放云盘](/cn.zh-CN/块存储/云盘基础操作/释放云盘.md)。

**说明：** 包年包月数据盘转成按量付费后，计费账单按小时出账，释放云盘后隔一个小时不会再扣费。转换云盘的计费方式后实际退款金额以页面显示为准，已使用的代金券不会退还。

## 什么是I/O优化？我能将存量的ECS实例升级为I/O优化的实例吗？

I/O优化为实例与云盘之间提供更好的网络能力，可保证SSD云盘存储性能的发挥。对于I/O优化的实例，挂载SSD云盘时能够获得SSD云盘的全部存储性能。

已购买的存量ECS实例支持通过[ModifyInstanceSpec](/cn.zh-CN/API参考/实例/ModifyInstanceSpec.md)和[ModifyPrepayInstanceSpec](/cn.zh-CN/API参考/实例/ModifyPrepayInstanceSpec.md)将非I/O优化的实例转换为I/O优化实例。

## SSD云盘具备怎样的I/O性能？

请参见[块存储性能](/cn.zh-CN/块存储/性能/块存储性能.md)。

## SSD云盘适用于哪些应用场景？

SSD云盘具有高性能、高可靠性等特点，适合数据可靠性要求高的I/O密集型应用，如MySQL、SQL Server、Oracle、PostgreSQL等中小型关系数据库场景。同时适用对数据可靠性要求高的中小型开发测试环境。

## 是否支持将原普通云盘更换成SSD云盘？

由于SSD云盘采用全SSD的存储介质实现，不支持将存量的普通云盘直接更换为SSD云盘。

## 如何购买SSD云盘，I/O优化的实例及SSD云盘的价格是多少？

请参见SSD云盘及I/O优化实例的[价格详情页](http://www.aliyun.com/price/product#/ecs/detail)。

## 购买SSD云盘后是否支持升级？

支持升级和扩容。详情请参见[扩容概述](/cn.zh-CN/块存储/扩容云盘/扩容概述.md)。

## 使用了I/O优化实例和SSD云盘之后，Linux系统在分区挂载的时候为什么报错？

SSD云盘在Linux系统内挂载点显示为/dev/vd\*，与常见的挂载点/dev/xvd\*有所区别。建议您按照/dev/vd\*挂载点格式填写挂载命令。

## 普通云盘和SSD云盘添加挂载信息时需要注意什么？

Linux系统添加数据盘时，在格式化数据盘编辑分区信息时，/dev/xvdb1是普通云盘的挂载点，如果您使用的是高效云盘、SSD云盘和ESSD云盘，挂载点为/dev/vdb1。如果添加了错误的信息，使用`mount -a`命令将无法挂载。解决方法如下：

1.  运行`fdisk -l`查看具体的数据盘信息。
2.  查看`/etc/fstab`里面添加的信息是否对应。

    **说明：** 不要重复添加挂载信息，否则会导致实例开机重复挂载，系统无法启动。

3.  使用vim修改`/etc/fstab`文件。
4.  将错误的信息注释或者删除，添加对应的挂载信息。
5.  运行`mount -a`测试是否能挂载成功。

常规的操作流程请参见[Linux格式化数据盘](/cn.zh-CN/块存储/云盘基础操作/分区格式化数据盘/Linux格式化数据盘.md)。

## 什么是设备名（挂载点）？

设备名（挂载点）是云服务器ECS上云盘在磁盘控制器总线上的位置。所选配的设备名，在Linux操作系统下与磁盘设备号对应，在Windows操作系统下与磁盘管理器中的磁盘顺序一致。

## 什么是独立云盘？

独立云盘，即单独购买的按量付费数据盘，而不是随实例创建的数据盘。它可以在同一个可用区内的不同ECS实例之间自由挂载和卸载，但不能跨地域、跨可用区挂载。独立云盘必须挂载到实例上，并分区格式化，才能使用。详情请参见[创建云盘](/cn.zh-CN/块存储/云盘基础操作/创建云盘/创建云盘.md)。

## 一块云盘可以挂载到多台ECS实例上吗？

不能。一块云盘只能挂载到同一可用区的一台实例，不支持跨可用区挂载。

## 购买了按量付费云盘并挂载到ECS实例后，还需要执行挂载分区的操作吗？

单独购买了按量付费数据盘之后，您需要将该数据盘挂载到实例上，并分区格式化。详情请参见[Linux格式化数据盘](/cn.zh-CN/块存储/云盘基础操作/分区格式化数据盘/Linux格式化数据盘.md)和[Windows格式化数据盘](/cn.zh-CN/块存储/云盘基础操作/分区格式化数据盘/Windows格式化数据盘.md)。

## 为Linux实例购买了数据盘，但是系统中看不到怎么办？

如果是单独购买的按量付费数据盘，您需要分区格式化、挂载后才能使用和看到空间。详情请参见[Linux格式化数据盘](/cn.zh-CN/块存储/云盘基础操作/分区格式化数据盘/Linux格式化数据盘.md)和[挂载数据盘](/cn.zh-CN/块存储/云盘基础操作/挂载数据盘.md)。

## 一台实例能挂载多少块云盘？

作数据盘用时，一台ECS实例最多挂载16块数据盘。更多信息，请参见[块存储使用限制](/cn.zh-CN/产品简介/使用限制.md)。

## 为什么挂载云盘时找不到我想挂载的实例？

请确保您的实例没有被释放，并且实例和云盘处于同一个地域的同一个可用区。

## 云盘和实例在不同的可用区，可以挂载吗？

不可以。您只能在同一可用区内的不同ECS实例间自由挂载和卸载按量付费云盘。

## 卸载云盘（数据盘）时，云盘数据会丢吗？

-   在Windows操作系统下，为了保证数据完整性，强烈建议您暂停对该云盘的所有文件系统的读写操作，否则未完成读写的数据会丢失。
-   在Linux操作系统下，您需要登录实例中对该云盘执行umount命令，命令执行成功后再进入控制台卸载云盘。

## 系统盘能够卸载吗？

支持卸载。详情请参见[卸载或挂载系统盘](/cn.zh-CN/块存储/云盘基础操作/卸载或挂载系统盘.md)。

## 单独购买的按量付费数据盘如何收费？

按量付费数据盘按小时为计费单位出账，如果您的账号余额不足，按量付费数据盘的服务会被停止。

## 为什么我单独创建的云盘和我的实例一起释放了？

云盘可以设置是否随实例自动释放。您可以通过控制台或API开启或关闭随实例释放功能。详情请参见[释放云盘](/cn.zh-CN/块存储/云盘基础操作/释放云盘.md)。

## 单独购买的按量付费数据盘能够挂载到包年包月ECS实例上吗？

可以。

## 包年包月ECS实例上的数据盘能卸载吗？

包年包月ECS实例不支持直接卸载数据盘。数据盘到期时间和实例一致，随实例一起释放。如果想要释放数据盘，您可以先将包年包月数据盘转换为按量付费数据盘，再卸载并释放数据盘。如何转换云盘的计费方式，请参见[转换云盘计费方式](/cn.zh-CN/块存储/云盘基础操作/转换云盘计费方式.md)。

## 我已经操作过续费变配，在续费变配期内是否还能将包年包月云盘转为按量付费云盘？

不能。您可以等到续费变配期结束后，再选择续费变配，转化为按量付费云盘。

## 删除云盘的时候，快照会被保留吗？

手动快照不会被删除。自动快照是否会被删除，取决于您是否设置了**自动快照随磁盘释放**。详情请参见[设置自动快照随云盘释放](/cn.zh-CN/快照/使用自动快照策略/设置自动快照随云盘释放.md)。

## 为什么我的云盘没有自动快照了？

快照数量达到快照配额后，系统会自动删除最早创建的自动快照，手动快照不受影响。

**说明：** 云盘只有挂载到实例时才会执行自动快照策略。

## 可以使用快照单独创建云盘吗？

可以。在单独创建按量付费云盘时，选择已有的快照创建即可。详情请参见[使用快照创建云盘](/cn.zh-CN/块存储/云盘基础操作/创建云盘/使用快照创建云盘.md)。

## 数据盘挂载问题导致数据无法访问，应该如何排查？

如果无法访问Linux数据盘的数据，您可以参考以下排查思路。

1.  找到数据所在的云盘，并确认数据盘是否挂载在对应的ECS实例。
    -   在控制台查看。详情请参见[查看云盘监控信息](/cn.zh-CN/块存储/云盘基础操作/查看云盘监控信息.md)。
    -   在实例内部，使用`fdisk -l`命令查看数据盘的分区信息是否正常，并使用`df -h`和`mount | grep "<devpath>"`命令查看挂载情况。
2.  用cat命令查看/etc/fstab文件，是否将两块云盘挂载到同一目录。
    -   如果挂载在同一目录，先挂载的云盘会被后挂载的云盘替换，导致数据无法访问。建议将其中一块云盘挂载到另外一个目录下。
    -   如果没有挂载在同一个目录下，但挂载信息仍显示在同一目录，使用ll命令查看挂载的两个目录是否存在连接。如果存在连接，建议用mkdir命令新建一个目录挂载，并测试能否访问数据。

## 重启Linux系统ECS实例后数据丢失怎么办？

-   问题现象： 重启实例后发现某一目录（例如/alidata）所有数据丢失。
-   问题原因： 运行`df -h`查看，发现没有挂载数据盘分区。
-   解决方法： 本方法以I/O优化实例为例。如果是非I/O优化实例，云盘分区格式为/dev/xvd\*1，请您根据实际情况操作。
    1.  运行`fdisk -l`命令查看未挂载的数据盘分区。
    2.  运行`mount /dev/vdb1 /alidata`挂载数据盘分区。
    3.  运行`df -h`查看是否成功挂载数据盘分区。
    4.  （可选）在/etc/fstab中设置开机自动挂载，避免下次出现同样问题。

## 重新初始化云盘时，我的快照会丢失吗？

不会，手动快照和自动快照都不会丢失。

## 重启Linux系统ECS实例或者重新初始化系统盘后数据盘不见了怎么办？

-   问题现象：Linux实例重启或初始化系统之后，再登录实例运行`df -h`查看云盘挂载，发现数据不见了。
-   问题原因：
    -   重启实例：如果重启实例前，您没有将挂载信息写入到/etc/fstab中，重启实例之后实例不会自动挂载数据盘。
    -   重新初始化系统盘：初始化系统盘会重置/etc/fstab文件，重新初始化系统盘后实例不会自动挂载数据盘。
-   解决方案：
    1.  运行`mount /dev/xvdb1`命令重新挂载数据盘。
    2.  运行mount命令查看数据盘分区/dev/xvdb1的文件格式。
    3.  假设您查看到/dev/xvdb1分区使用的是ext3文件系统，执行以下命令将数据盘挂载信息写入到/etc/fstab文件中。

        ```
        echo '/dev/xvdb1 /data ext3 defaults 0 0' >> /etc/fstab
        ```

    4.  在控制台重启ECS实例。

## Linux系统ECS实例重新初始化系统盘后如何重新挂载数据盘？

在Linux实例中，重新初始化系统盘不会改变数据盘里的内容，但是数据盘的挂载信息会丢失。假设重新初始化系统盘之前，实例上挂载的数据盘分区名称为/dev/vdb1，挂载点名称为/InitTest。重启Linux实例后，请参见以下步骤创建新的挂载点信息并挂载数据盘分区。

1.  运行`mount`查看数据盘挂载信息。

    返回结果中没有/dev/vdb1的信息。

2.  运行`fdisk -l`查看数据盘分区信息。
3.  运行`cat /etc/fstab`查看数据盘分区/dev/vdb1原有的挂载点名称。
4.  运行`mkdir /InitTest`重新创建数据盘分区的挂载点。

    新建的挂载点名称必须与重新初始化系统盘之前/dev/vdb1的挂载点名称保持一致。

5.  运行`mount /dev/vdb1 /InitTest`重新挂载数据盘分区。
6.  运行`df -h`查看挂载结果。
7.  按以下步骤检测数据盘/dev/vdb1是否能自动挂载。
    1.  运行`umount /dev/vdb1`卸载/dev/vdb1。
    2.  运行`mount`查看挂载信息。

        如果卸载成功，返回结果中不会有/dev/vdb1的信息。

    3.  运行`mount -a`自动挂载/dev/vdb1。
    4.  运行`mount`查看挂载信息。

        如果自动挂载成功，返回结果中会有/dev/vdb1的信息。


## 更换系统盘时，我的快照会丢失吗？

历史系统盘的手动快照仍旧保留，如果自动快照设置了自动快照随磁盘释放则会被删除。

**说明：** 更换系统盘后云盘ID会发生变化，历史系统盘的快照将不能用于回滚新的系统盘。

## 更换系统盘应该注意什么问题？

更换系统盘之前建议您创建快照备份数据，并且您需要确保系统盘有1GiB以上的预留空间。否则更换系统盘后，实例可能无法正常启动。

系统盘价格请参见[云服务器ECS详细价格总览](https://www.aliyun.com/price/product#/ecs/detail)。

## 如何扩容系统盘？

您可以通过控制台或者调用[ResizeDisk](/cn.zh-CN/API参考/块存储/ResizeDisk.md)扩容系统盘。

## 系统盘扩容之后是否支持再缩容？

不支持。建议您合理选择扩容范围。

## 所有块存储都支持系统盘扩容吗？有地域限制吗？

高效云盘、SSD云盘、ESSD云盘支持系统盘扩容。所有的地域都支持扩容系统盘。

## 包年包月和按量付费的ECS实例都支持扩容系统盘吗？

包年包月和按量付费的ECS实例都支持扩容系统盘。

## 系统盘的容量范围是多少？最大能扩容到多少？

容量范围随实例使用的镜像变化。详情请参见[扩容概述](/cn.zh-CN/块存储/扩容云盘/扩容概述.md)。

## 云服务器ECS续费变配后，不支持更换系统盘时指定系统盘容量吗？

包年包月ECS实例完成续费降配操作后，只有进入新计费周期后才能扩容系统盘，当前计费周期内不支持扩容系统盘。

## 如何利用快照创建云盘实现无损扩容数据盘？

在扩容数据盘时，若遇到云盘原因导致无法无损地扩容时，您可以临时新建一块按量付费云盘存放数据，然后彻底格式化数据盘。请参见以下步骤。

1.  为当源数据盘创建快照。详情请参见[创建一个云盘快照](/cn.zh-CN/快照/使用快照/创建一个云盘快照.md)。
2.  前往[云盘购买页](https://ecs-buy.aliyun.com/#/clouddisk)，选择和ECS实例相同的地域及可用区，并选择**用快照创建磁盘**，选择上一步生成的快照。
3.  在ECS控制台，将新建数据盘挂载到同一台ECS实例上。
4.  登录ECS实例，运行mount命令挂载新建云盘。有关如何挂载根据快照创建的云盘，请参见[使用快照创建云盘](/cn.zh-CN/块存储/云盘基础操作/创建云盘/使用快照创建云盘.md)。
5.  抽检查看新建数据盘中的文件是否和源数据盘一致。
6.  确认数据一致后，使用fdisk删除原有的分区表，然后再使用fdisk、mkfs.ext3等命令重新对数据盘执行分区格式化操作，使新建数据盘的可用空间变为扩容之后的大小。详情请参见[扩展分区和文件系统\_Linux数据盘](/cn.zh-CN/最佳实践/块存储/扩展分区和文件系统_Linux数据盘.md)。
7.  运行`cp -R`命令将新建数据盘中的数据全部拷回源数据盘。

    您可以加上--preserve=all参数，保留文件的属性。

8.  运行umount命令卸载新建数据盘。
9.  在ECS控制台从实例上卸载并释放新建数据盘。

## 为什么Linux系统ECS实例扩容云盘提示Bad magic number in super-block while trying to open /dev/xvdb1？

-   问题现象：`e2fsck -f /dev/xvdb`扩容格式化云盘时提示报错Bad magic number in super-block while trying to open /dev/xvdb1
-   问题原因：可能是由于没有云盘分区导致。
-   解决方案：分别运行`e2fsck -f /dev/xvdb`和`resize2fs /dev/xvdb`实现扩容。然后使用mount命令挂载云盘。

## 数据盘能否再次划分出一个分区用作数据存储？

支持。您可以根据需求对数据盘划分多个分区，建议您使用系统自带的工具进行分区操作。

## 划分了多个分区的云盘，创建的快照是针对单分区还是所有分区的？

所有分区。快照备份了整块云盘的数据，而不是该云盘的某几个分区。

## 云盘二次分区有哪些注意事项？

出于数据安全考虑，您需要提前创建快照备份云盘数据，发生操作失误时可以及时回滚云盘。详情请参见[创建快照](/cn.zh-CN/快照/使用快照/创建一个云盘快照.md)和[使用快照回滚云盘](/cn.zh-CN/快照/使用快照/使用快照回滚云盘.md)。

## 写入数据与分区格式化有什么关系？

一块新云盘或新云盘分区在正常使用前，必须经过初始化，并将数据结构记录到云盘上。格式化的目的是建立文件系统。因此，在云盘上建立文件系统意味着对云盘有写入数据操作。不同的文件系统在格式化时写入的文件大小不同：

-   Windows系统格式化（分为快速和正常格式化）：
    -   快速格式化：只是为分区分配文件系统，并重写目录表。快速格式化占用的实际空间相对较少。
    -   正常格式化：不但完成快速格式化工作，还逐扇区扫描分区以确定和标记坏扇区，填充云盘空块，相当于写了云盘全盘的数据量。此时，第一份全量快照会近似于云盘容量。
-   Linux系统格式化：格式化云盘后，在实例没有写入业务数据前，第一份快照的容量大小与云盘文件系统格式有关。

## 数据盘进行二次分区后，此时回滚快照后，数据盘是几个分区？

快照回滚是回滚到快照时间点，如果该时间点尚未进行二次分区，则没有多个分区。

## 回滚云盘时为什么报错“执行回滚磁盘需要停止实例，并且确保当前磁盘没有创建中的快照和没有更换过操作系统。”？

-   问题现象：回滚云盘时，报错“执行回滚云盘需要停止实例，并且确保当前云盘没有创建中的快照和没有更换过操作系统。”
-   问题原因：通常是由于云盘属性或云盘状态不符等原因导致。
-   解决方案：您可以根据实例状态和相关快照任务排查故障。
    -   检查实例是否已经正常停止。

        只有已停止的实例才能进行云盘回滚操作。您可以在控制台的实例列表页查看实例状态。

    -   检查相关快照所关联的实例是否更换过系统盘。

        如果更换了操作系统，实例的系统盘会随新镜像自动重新创建，系统盘ID会改变。所以，实例原有的快照将无法再用于回滚。但您可以基于相关快照创建自定义镜像，然后再通过更换系统盘方式指定该自定义镜像，将实例切换到相应的快照状态。详情请参见[使用快照创建自定义镜像](/cn.zh-CN/镜像/自定义镜像/创建自定义镜像/使用快照创建自定义镜像.md)和[更换操作系统（非公共镜像）](/cn.zh-CN/块存储/云盘基础操作/更换系统盘/更换系统盘（非公共镜像）.md)。

    -   检查相关快照归属的云盘是否有正在创建快照。

        为保障数据一致性，如果快照归属云盘有正在进行的快照任务，将不允许进行回滚操作。您可以在**实例详情**页的**快照**页签中，查看是否存在**进度**不是**100%**，**状态**处于**未完成**的快照任务。

        如果您需要强制终止相关快照任务以便尽快进行云盘回滚操作，可以勾选相应快照，并单击**删除快照**终止快照任务。


## 如何转移Linux实例系统盘中的数据？

购买Linux系统的云服务器ECS时，未挂载数据盘，使用一段时间后，系统盘空间使用率接近100%，无法满足业务需求。此时您可以新购并挂载一块数据盘，使用mv命令转移系统盘中的数据到新购的数据盘。更多详情，请参见[如何迁移Linux实例系统盘中的数据](https://help.aliyun.com/knowledge_detail/41400.htm)。

## 如何跨ECS实例拷贝数据？

根据不同的操作系统，您可以参考以下方法跨ECS实例拷贝数据：

-   Linux实例之间数据拷贝
    -   lrzsz方式

        登录实例，安装lrzsz，然后执行rz上传，sz下载。

        您也可以先用sz下载到本地，再rz上传到另一台实例上。

    -   FTP方式

        使用sftp工具，建议用root账号登录进行下载和上传。

    -   wget命令

        把文件或者文件夹压缩后，放在web目录下生成一个下载URL，在另一台实例上用wget命令进行下载 。

-   Linux与Windows之间数据拷贝

    建议在Linux实例上使用sftp，先下载到本地，然后使用FTP上传到Windows实例。

-   Windows之间数据拷贝
    -   使用FTP的方式

        Windows安装FTP服务的教程请参见[手动搭建FTP站点（Windows）](/cn.zh-CN/建站教程/搭建应用/搭建FTP站点/手动搭建FTP站点（Windows）.md)。

    -   两台实例都登录阿里旺旺进行传输

## 上一代云盘 - 本地SSD盘相关问题

本地SSD盘已经停止售卖。如果您仍在使用本地SSD盘，请参见[本地SSD盘介绍](https://help.aliyun.com/knowledge_detail/35241.html)和[本地SSD盘FAQ](https://help.aliyun.com/knowledge_detail/40547.html)。

