# 镜像构建概述

镜像构建服务（Image Builder）是云服务器ECS为您提供的一站式镜像定制服务，并支持跨地域跨账号定制镜像。

## 简介

镜像构建服务的主要功能是镜像模版，您可以通过镜像模版完成镜像的定制、分发、共享等操作。业务流程的介绍如下所示。

![镜像构建操作流程](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6040479061/p207490.png)

1.  创建镜像组件。

    镜像组件的内容由一条或多条构建模版命令组成。您可以通过复用镜像组件，快速完成镜像模版内容的定制。其中，构建模版命令是镜像构建服务提供的规范、透明的镜像定制方式。兼容Dockerfile的部分命令，更多信息，请参见[镜像构建服务支持的命令说明](/cn.zh-CN/镜像/镜像构建/镜像构建服务支持的命令说明.md)以及[创建镜像组件](/cn.zh-CN/镜像/镜像构建/创建镜像组件.md)。

2.  创建镜像模版。

    镜像模版是镜像构建服务的主要功能，通过指定源镜像、镜像组件或构建模版命令实现对镜像内容的定制。同时支持将定制的镜像生成在指定的地域或共享至指定的阿里云账号。具体操作，请参见[创建镜像模版](/cn.zh-CN/镜像/镜像构建/创建镜像模版.md)。

3.  执行镜像构建任务。

    当您手动执行镜像模版时会生成一个构建任务，任务执行过程中会自动检测镜像模版中各配置项是否存在异常。具体操作，请参见[查看与执行镜像模版](/cn.zh-CN/镜像/镜像构建/查看与执行镜像模版.md)。

4.  查看定制化的自定义镜像。

    您可以根据业务需要，通过定制化的自定义镜像创建ECS实例或更换实例的操作系统。


## 计费

镜像构建服务本身不收费。通过镜像模版构建镜像时，系统会自动创建一台临时的ECS实例用于构建镜像，临时的ECS实例为按量计费实例，将收取一定的费用。更多信息，请参见[按量付费](/cn.zh-CN/产品定价/计费方式/按量付费.md)。

**说明：** 临时ECS实例的各配置项默认保持系统定义的值，例如，实例规格默认按vCPU和内存最小的原则进行选择。您也可以根据业务需求手动设置临时ECS实例的各配置项。

## 应用场景

|场景|说明|
|--|--|
|自定义镜像定制|您可以通过镜像模版，以公共镜像或已有的自定义镜像为基础，定制您需要的自定义镜像。|
|服务器应用运维|当您的服务器应用需要更新版本时，可以通过镜像模版，在源服务器的镜像基础上，使用构建模版命令完成服务器内应用的更新。您可以将每次更新应用创建的镜像模版作为一个应用版本，当您业务需要时，可以通过不同版本的镜像模版快速完成应用的更新或回滚。|
|镜像管理|当您的业务需要在多地域、多阿里云账号下，同步完成镜像的定制或版本迭代时，您可以通过镜像模版在完成镜像内容定制的同时，指定该镜像需要分发的地域或共享的阿里云账号。系统将帮助您在指定的地域下生成对应的镜像或将对应的镜像共享至指定的阿里云账号。|

镜像构建服务典型应用场景的操作示例，请参见[镜像构建服务最佳实践](/cn.zh-CN/镜像/镜像构建/镜像构建服务最佳实践.md)。

## 优势

-   高效
    -   镜像构建服务兼容Dockerfile的一部分命令，便于您快速构建镜像。如果您熟悉Dockerfile命令，可以直接使用Dockerfile编辑命令，然后通过控制台导入Dockerfile模版。
    -   一站式的服务，为您节省了创建ECS实例、登录ECS实例完成运维操作，以及镜像的创建、更新、复制、共享所需的手动操作时间。
-   安全

    执行构建任务时，系统会自动帮助您检查镜像模版的各配置项是否存在异常。例如，检查中转实例的相关资源配额是否充足、构建模版命令是否正确执行等。


