---
keyword: 还原安全组规则
---

# 还原安全组规则

如果您需要对一个线上业务执行新的安全组规则，您可以先克隆原来的安全组作为备份，再修改安全组规则。如果新的安全组规则对线上业务产生了不利影响，您可以全部或部分还原安全组规则。

-   原安全组与目标安全组必须在同一个地域。
-   原安全组与目标安全组必须为同一种网络类型。

还原安全组规则是指将一个原安全组里的规则全部或部分地还原为目标安全组规则的过程。

-   **全部还原** ：还原时，系统在原安全组中删除目标安全组中没有的规则，并在原安全组中添加只有目标安全组中才有的规则。还原操作后，原安全组里的规则与目标安全组里的规则完全相同。
-   **部分还原** ：仅将目标安全组中才有的规则添加到原安全组里，忽略原安全组中有而目标安全组中没有的规则。

**说明：**

还原安全组规则有以下限制： 目标安全组中如果有系统级的安全组规则（优先级为110），还原时无法创建该类规则，还原后，原安全组中的规则可能会与预期不同。如果您需要这些安全组规则，请手动创建相似规则（优先级可以设为100）。

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。

2.  在左侧导航栏，选择**网络与安全** \> **安全组**。

3.  在顶部菜单栏左上角处，选择地域。

4.  在安全组列表页面中，找到需要还原安全组规则的安全组，单击**操作**列下的**还原规则**。

5.  在还原规则对话框里，完成以下配置。

    1.  选择**目标安全组**，目标安全组必须与原安全组拥有不一样的规则。

    2.  选择**还原策略**。

        -   如果您需要原安全组与目标安全组拥有完全一致的规则，请选择**全部还原**。
        -   如果您只需要在原安全组中添加只有目标安全组中才有的规则，请选择**部分还原**。
    3.  预览还原结果。

        -   绿色显示的是只有目标安全组中才有的规则。无论是**全部还原**还是**部分还原**，这部分规则都会被添加到原安全组中。
        -   红色显示的是目标安全组中没有的规则。
            -   如果选择**全部还原**，系统会在原安全组中删除这部分规则。
            -   如果选择**部分还原**，原安全组中这部分规则仍会保留。
    4.  确认无误后，单击**确定**。

        创建成功后，还原规则对话框会自动关闭。


在**安全组列表**中，找到刚完成还原操作的原安全组，在**操作**列中，单击**配置规则**进入安全组规则页面，查看更新后的安全组规则。

