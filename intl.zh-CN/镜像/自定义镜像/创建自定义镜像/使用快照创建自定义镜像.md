---
keyword: [自定义镜像, 复制环境, 准备, 源码部署, ecs]
---

# 使用快照创建自定义镜像

通过创建自定义镜像，您可以将一台ECS实例的操作系统、数据制作成环境副本，再通过自定义镜像创建多台ECS实例，快速复制系统环境。

您已经创建了一份系统盘快照。具体步骤，请参见[创建一个云盘快照（普通快照）](/intl.zh-CN/快照/使用快照/创建普通快照.md)。

![demo](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0963559951/p4584.png)

使用快照创建自定义镜像前，请仔细阅读下列注意事项：

-   用来创建自定义镜像的快照：
    -   必须包含一份系统盘快照创建自定义镜像。仅包含数据盘快照无法创建自定义镜像。
    -   加密快照和非加密快照均可用于创建自定义镜像。
    -   创建快照的源ECS实例到期或释放后，使用该快照创建的自定义镜像不受影响，使用该镜像创建的ECS实例也不受影响。
-   自定义镜像：
    -   通过本文步骤创建的自定义镜像不能跨地域使用。如需跨地域使用，请参见[复制镜像](/intl.zh-CN/镜像/自定义镜像/复制镜像.md)。
    -   自定义镜像与ECS实例的计费方式相互独立。例如，使用包年包月ECS实例创建的自定义镜像，可用于创建按量付费ECS实例。
-   使用自定义镜像创建的ECS实例：
    -   支持升级vCPU、内存、带宽、云盘等。
    -   支持更换操作系统，更换后，原来的自定义镜像仍可继续使用。详情请参见[更换系统盘（非公共镜像）](/intl.zh-CN/块存储/云盘/更换系统盘/更换系统盘（非公共镜像）.md)。
    -   部分VPC网络Linux系统可能出现网络无法连通的异常情况，主要与/etc/sysconfig/network的配置相关。详情请参见[使用自定义镜像创建VPC网络实例后网络出现异常](https://www.alibabacloud.com/help/en/doc-detail/140417.htm)。
-   数据安全建议：
    -   如何提高自定义镜像的安全性，请参见[阿里云自定义镜像安全建议](https://www.alibabacloud.com/help/zh/faq-detail/54903.htm?spm=a2c63.q38357.a3.3.3a4b61feRLos9d)。
    -   请提前删除快照中的敏感数据，避免数据安全隐患。

1.  登录[ECS管理控制台](https://ecs.console.aliyun.com)。

2.  选择以下任意一种方法，找到需要创建自定义镜像的系统盘快照。

    -   通过实例页面：
        1.  在左侧导航栏，选择**实例与镜像** \> **实例**。
        2.  在顶部菜单栏处，选择地域。
        3.  找到目标实例，单击实例ID，或在**操作**列，单击**管理**。
        4.  单击**快照**页签。找到**云盘属性**为**系统盘**的目标快照。在**操作**列，单击**创建自定义镜像**。
    -   通过快照页面：
        1.  在左侧导航栏，选择**存储与快照** \> **快照**。
        2.  在顶部菜单栏处，选择地域。
        3.  选择一个**云盘属性**为**系统盘**的快照，单击**创建自定义镜像**。

            ![snapshot_systemdisk](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2466824061/p4593.png)

3.  在弹出的**创建自定义镜像**对话框中，完成以下配置：

    |配置项|说明|相关文档|
    |---|--|----|
    |**系统快照ID**|必须是系统盘快照。|不涉及|
    |名称与描述|按页面提示填写。|不涉及|
    |**添加数据盘快照**|（可选）选中**添加数据盘快照**，并单击**增加**后，选择数据盘快照ID。     -   如果不选择数据盘快照ID，则该数据盘会创建为空盘，默认容量为5GiB。
    -   如果选择了数据盘快照ID，则云盘容量为快照的容量。
|[快照概述](/intl.zh-CN/快照/快照概述.md)|
    |**标签**|选择相应的标签。     -   可选：大多数场景为可选项。
    -   必选：当您使用的RAM账号被赋予了强制绑定标签的相关RAM策略时，为必选项，否则会报错权限不足。
|[创建带特定标签的资源](/intl.zh-CN/标签与资源/标签/创建带特定标签的资源.md)|

    ![create_custom_image](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0963559951/p41259.png)

4.  单击**创建**。


创建自定义镜像后，您可以：

-   [使用自定义镜像创建实例](/intl.zh-CN/实例/创建实例/使用自定义镜像创建实例.md)
-   [更换系统盘（非公共镜像）](/intl.zh-CN/块存储/云盘/更换系统盘/更换系统盘（非公共镜像）.md)

**相关文档**  


[CreateImage](/intl.zh-CN/API参考/镜像/CreateImage.md)

