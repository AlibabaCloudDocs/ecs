---
keyword: [磁盘空间满, 磁盘容量不足]
---

# 解决Windows实例磁盘空间不足

本文主要介绍Windows实例磁盘空间不足时对应的解决方法以及磁盘日常维护的最佳实践。

本文中的方法适用于Windows Server 2003以上系统，这里以Windows Server 2012 R2为例。

## 解决方法及最佳实践

解决Windows实例磁盘空间不足的问题，有以下两种处理方式：

-   [释放磁盘空间](#section_o27_pqu_ih6)
-   [扩容磁盘](#section_6e2_k66_nwk)

日常需要养成良好的磁盘使用习惯，本文推荐以下几个磁盘使用的最佳实践：

-   [压缩保存文件](#section_d4u_a9n_c2y)
-   [定期清理不必要的应用程序](#section_e2s_z1j_n21)
-   [设置磁盘监控](#section_gwv_pwf_5bs)

## 释放磁盘空间

您可以通过清理磁盘中不需要的文件来解决磁盘空间满的问题，具体操作步骤如下：

1.  找出占用磁盘空间过多的文件。

    1.  远程连接并登录到Windows实例。具体操作，请参见[远程连接](/intl.zh-CN/实例/连接实例/使用第三方客户端工具连接实例/在本地客户端上连接Windows实例.md)。

    2.  单击**开始** \> **这台电脑**。

    3.  单击要清理的磁盘，按下键盘的**Ctrl+F**键。

    4.  单击顶部导航栏**搜索** \> **大小**，然后根据系统定义大小筛选指定磁盘的大文件。

        **说明：** 您也可以自定义文件大小范围进行检索，例如：

        -   在搜索框输入大小：\>500M，会检索该磁盘大于500 M的文件。
        -   在搜索框输入大小：\> 100M < 500M，会检索大于100 M但小于500 M的文件。
2.  删除不需要的文件。

    推荐您使用系统自带的磁盘清理工具，删除日志文件及系统上其他不需要文件，并清空回收站。磁盘清理工具服务器默认没有安装，需要手动安装，具体安装以及删除文件的步骤如下：

    1.  在底部任务栏单击服务器管理器图标，打开服务器管理器。

    2.  单击右上方**管理** \> **添加角色和功能**。

    3.  在添加角色和功能向导页面，按默认设置单击**下一步**至**功能**模块，勾选**墨迹手写服务**和**桌面体验**，然后单击**下一步**。

    4.  单击**安装**。

    5.  安装成功后，系统将提示您手动重启服务器。您需要手动重启服务器。重新启动服务器之后，确认已安装了桌面体验。

    6.  单击**开始**，在顶部搜索栏搜索**磁盘清理**，选择要清理的磁盘，单击**确定**。


## 扩容磁盘

您可以通过扩容磁盘的方式解决磁盘空间满的问题。具体操作，请参见[在线扩容云盘（Linux系统）](/intl.zh-CN/块存储/扩容云盘/在线扩容云盘（Linux系统）.md)或[离线扩容云盘（Linux系统）](/intl.zh-CN/块存储/扩容云盘/离线扩容云盘（Linux系统）.md)。

## 压缩保存文件

磁盘中一些定期生成的文件可以进行归档压缩后保存，以提高磁盘使用率。压缩工具推荐使用WinRAR，配置压缩策略过程如下。

1.  下载并安装WinRAR工具，官方下载地址请参见[WinRAR](https://www.rarlab.com/download.htm)。

    本示例使用WinRAR中文版。

2.  安装WinRAR工具后，找到需要压缩的文件，右键单击该文件，选择**添加到压缩文件**。

3.  在设置界面单击窗口上方的备份选项卡，然后勾选**按掩码产生文件名**，注意此时不要单击**确定**。

4.  单击窗口上方的常规选项卡，单击**浏览**来定义压缩文件的路径。单击**配置**，选择**保存当前配置为新配置**。

5.  在弹出的配置参数对话框中，输入**配置名**，选中**保存压缩文件名**、**保存选定文件名**、**桌面创建快捷方式**，单击**确定**。

6.  然后在压缩文件名和参数对话框，单击**确定**。

    桌面会生成一个此压缩包的快捷键。

7.  在桌面按下键盘**Win+R**键打开**运行**窗口，执行命令`control`打开**控制面板**。在**控制面板**页面单击**系统和安全**，单击**计划任务**，然后在任务计划程序对话框中，单击**创建基本任务**。

8.  在弹出的对话框中为新任务命名，单击**下一步**。

9.  选择触发周期，单击**下一步**。然后选择**启动程序**，单击**下一步**。

10. 此时会弹出对话框需要您输入**程序或脚本**。先找到刚才生成的压缩包快捷键，右键单击该快捷键，选择**属性**，复制**目标**内容。

11. 然后将复制内容粘贴到启动程序操作中的**程序或脚本**文本框中，单击**确定**完成创建。


设置好备份策略以后，可以定期的去清理过期的备份文件，避免占用过大的空间。

## 定期清理不必要的应用程序

定期清理不必要的应用程序，您可以通过控制面板中的程序和功能界面清理不再使用的程序软件。

## 设置磁盘监控

阿里云的ECS服务器默认安装了监控插件，您可以在[云监控控制台](https://cms.console.aliyun.com/#/groups/)中创建磁盘的报警规则。这样可以实时了解磁盘空间使用率是否到达一个高位值，以便及时清理。详情请参见[报警规则](/intl.zh-CN/报警服务/报警规则/管理报警规则.md)。

