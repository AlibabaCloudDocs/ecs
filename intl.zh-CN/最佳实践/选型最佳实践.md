---
keyword: [阿里云, ECS, 选择服务器, 初次购买]
---

# 选型最佳实践

选型并非选择一款实例规格，而是了解实例规格的关键特点，在库存不足、产品下线、使用抢占式实例等场景中，您可以有多种备选实例规格，充分利用阿里云ECS弹性灵活的特点。

本文主要介绍如何选择企业级实例规格族，不包括入门级（共享型）规格族。有关入门级实例选型，请参见[共享型](/intl.zh-CN/实例/选择实例规格/共享型.md)或[突发性能实例概述](/intl.zh-CN/实例/选择实例规格/突发型/突发性能实例概述.md)。

## 了解实例规格族

启动一台ECS实例前，您需要结合性能、价格、工作负载等因素，做出性价比与稳定性最优的决策。根据业务场景和vCPU、内存、网络性能、存储吞吐等配置划分，阿里云ECS提供了多种实例规格族，一种实例规格族又包括多个实例规格。实例规格族名称格式为ecs.<规格族\>，实例规格名称为ecs.<规格族\>.<nx\>large。

-   ecs：云服务器ECS的产品代号。
-   <规格族\>：由小写字母加数字组成。
    -   小写字母为某个单词的缩写，并标志着规格族的性能领域。部分小写字母的含义如下所示。
        -   c：一般表示计算型（computational）
        -   g：一般表示通用型（general）
        -   r：一般表示内存型（ram）
        -   ne：一般表示网络增强型（network enhanced）
    -   数字一般区别同类型规格族间的发布时间。更大的数字代表新一代规格族，拥有更高的性价比，价格低性能好。
-   <nx\>large：n越大，vCPU核数越多。

例如，ecs.g6.2xlarge表示通用型g6规格族中的一个实例规格，拥有8个vCPU核。相比于g5规格族，g6为新一代通用型实例规格族。

## 开始选型

为方便您在选型时对比实例性能，您可以从以下途径了解实例详情。

-   [实例规格族](/intl.zh-CN/实例/实例规格族.md)：查阅文档了解实例规格族的产品详情，无需账号登录。
-   DescribeInstanceTypes：调用ECS API，获取最新的性能规格参数，但需要您已注册账号。

    ```
    aliyun ecs DescribeInstanceTypes --InstanceTypeFamily ecs.g6
    ```

-   [产品详情页定价页签](https://www.alibabacloud.com/product/ecs)：了解ECS资源的定价信息、最新优惠活动、以及初步估算使用成本。
-   [ECS自定义购买页面](https://ecs-buy.aliyun.com/wizard#/prepay/cn-hangzhou)：在**基础配置**页面的**实例**配置处，了解更多选购指导。

## 根据使用场景挑选

下图列举了阿里云ECS部分通用计算实例规格族及其对应的业务场景。

![计算家族](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0432191161/p208412.png)

下图列举了阿里云ECS部分异构计算实例规格族及其对应的业务场景。

![hetero-computing](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4215171161/p231827.png)

## 根据典型应用推荐

如果您使用的是类似于下图中的软件或应用，可以挑选右侧对应的实例规格族。

![根据应用负载类型选择实例](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3107181161/p85751.png)

## 自建服务的选型推荐

如果您是自建服务，可以根据您使用的应用，并参考选型原则，选择对应的实例规格族。

|应用类型|常用应用|选型原则|推荐实例规格族|
|----|----|----|-------|
|负载均衡|Nginx|应用特点：需要支持高频率的新建连接操作。 -   CPU计算能力：要求较高。
-   内存：要求不高。

|c6e、hfc7、g5ne系列|
|RPC产品|-   SOFA
-   Dubbo

|应用特点：网络链接密集型；进程运行时需要消耗较高的内存。|g6e、g6系列|
|缓存|-   Redis
-   Memcache
-   Solo

|-   CPU计算能力：要求不高。
-   内存：要求较高。

|-   实例规格族：r6e、re6系列
-   块存储：SSD云盘或ESSD云盘 |
|配置中心|ZooKeeper|在应用启动协商时会有大量I/O读写操作。 -   CPU计算能力：要求不高。
-   内存：要求不高。

|-   实例规格族：c6e、c6系列
-   块存储：SSD云盘或ESSD云盘 |
|消息队列|-   Kafka
-   RabbitMQ

|从消息完整性方面考虑，存储优先选用云盘。 -   CPU计算能力：要求不高。
-   内存和vCPU配比通常为1:1。
-   存储：要求不高。

|-   实例规格族：c6e、c6系列
-   块存储：SSD云盘或ESSD云盘 |
|容器编排|Kubernetes|通过弹性裸金属服务器和容器组合，可以最大限度挖掘计算潜能。|ebmc6e、ebmg6e、ebmc6、ebmg6系列|
|大表存储|HBase|-   一般可以选择d系列。
-   如果业务存在超高IOPS（Input/Output Operations Per Second）需求，可以选择i系列。

|-   d2c、d2s系列
-   i3系列 |
|数据库|-   MySQL
-   NoSQL

|-   对于存储有弹性扩展的需求，可以选择ECS和ESSD。
-   对于I/O敏感型业务的需求，优先选择i系列。

|-   实例规格：c6e、g6e、r6e系列

块存储：ESSD云盘

-   i3系列 |
|SQLServer|-   由于Windows的I/O单通道特性，对I/O读写能力要求较高，优先选择ESSD。
-   ECS的逻辑和物理扇区设置为4K。

|-   实例规格族：c6e、g6e、r6e系列
-   块存储：ESSD云盘 |
|文本搜索|Elasticsearch|-   选用内存与vCPU配比较大的ECS规格。
-   日常需要将数据库数据导出成ES文件，对I/O读写有要求。

|-   实例规格：g6e、g6系列

块存储：ESSD云盘

-   d2c、d2s系列 |
|实时计算|-   Flink
-   Blink

|基于存储量可以选择ECS通用规格和云盘，也可以选择d系列。|d2c、d2s系列|
|离线计算|-   Hadoop
-   HDFS
-   CDH

|优先选择d系列。|d2c、d2s系列|

## 通用场景、游戏服、视频直播场景推荐

在该类场景中，性能需求表现为CPU计算密集型，您需要相对均衡的处理器与内存资源配比，通常选用CPU与内存配比1:2、系统盘选用高效云盘、数据盘选用SSD云盘或者ESSD云盘。如果业务需要更强的网络性能，如视频弹幕等，您可以选用同系列中更高规格的实例规格，提高网络收发包能力（PPS）。

|场景分类|场景细分|推荐规格族|性能需求|处理器与内存比|
|----|----|-----|----|-------|
|通用应用|均衡性能应用，后台应用|g系列，如g6e|中主频，计算密集型|1:4|
|高网络收发包应用|g系列，如g6e|高网络PPS，计算密集型|1:4|
|高性能计算|hfc系列，如hfc7|高主频，计算密集型|1:2|
|游戏应用|高性能端游|hfc系列，如hfc7|高主频|1:2|
|手游、页游|g系列，如g6e|中主频|1:4|
|视频直播|视频转发|g系列，如g6e|中主频，计算密集型|1:4|
|直播弹幕|g系列，如g6e|高网络PPS，计算密集型|1:4|

## Hadoop、Spark、Kafka大数据场景推荐

在该类场景中，由于涉及不同的节点，性能需求表现较为复杂，您需要均衡各个节点的性能表现，包括计算、存储吞吐、网络性能等。

-   管理节点：当作通用场景处理，请参见[通用场景、游戏服、视频直播场景推荐](#section_afz_9jb_404)。
-   计算节点：当作通用场景处理，请参见[通用场景、游戏服、视频直播场景推荐](#section_afz_9jb_404)。根据集群规模的不同，需要选择的实例规格不同。例如100个节点以下可以选用ecs.g6e.4xlage，100个节点以上可以选用ecs.g6e.8xlage。

    **说明：** 计算节点在计费模式上可以采用抢占式实例，实现性价比最优化。更多详情，请参见[抢占式实例概述](/intl.zh-CN/实例/选择实例购买方式/抢占式实例/抢占式实例概述.md)。

-   数据节点：需要高存储吞吐、高网络吞吐、均衡的处理器与内存配比，推荐您使用大数据型d系列规格族。例如MapReduce/Hive可选择ecs.d2s.5xlarge，Spark/Mlib可选择ecs.d2s.10xlarge。

![大数据型选型](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5212381161/p85841.png)

## 数据库、缓存、搜索场景推荐

在该类场景中，实例规格的处理器与内存配比一般要求高于1:4，部分软件对存储I/O读写能力及时延性能较为敏感，建议您选用单位内存性价比较高的规格族。

|场景分类|场景细分|推荐规格族|处理器与内存比|数据盘|
|----|----|-----|-------|---|
|关系型数据库|高性能，依赖应用层高可用|i系列|1:4|本地SSD存储、高效云盘、SSD云盘|
|中小型数据库|g系列，或其他内存占比为1:4的规格族|1:4|高效云盘、SSD云盘|
|高性能数据库|r系列|1:8|高效云盘、SSD云盘|
|分布式缓存|中内存消耗场景|g系列，或其他内存占比为1:4的规格族|1:4|高效云盘、SSD云盘|
|高内存消耗场景|r系列|1:8|高效云盘、SSD云盘|
|NoSQL数据库|高性能，应用层高可用|i 系列|1:4|本地SSD存储、高效云盘、SSD云盘|
|中小型数据库|g系列，或其他内存占比为1:4的规格族|1:4|高效云盘、SSD云盘|
|高性能数据库|r系列|1:8|高效云盘、SSD云盘|
|ElasticSearch|小集群，靠云盘保证数据高可用|g系列，或其他内存占比为1:4的规格族|1:4|高效云盘、SSD云盘|
|大集群，高可用|d系列|1:4|本地SSD存储、高效云盘、SSD云盘|

以数据库为例，在传统方式中，业务系统直接对接OLTP数据库，数据冗余大多通过RAID磁盘阵列实现。选择阿里云ECS，您的轻载、重载数据库都能实现灵活部署。

-   轻载数据库：采用企业级实例规格搭配云盘使用，性价比更高。
-   重载数据库：需要高存储IOPS和低读写延时，推荐您使用本地SSD型i系列实例规格族（搭配了高I/O型本地NVMeSSD本地盘），满足大型重载数据库要求。

![数据库选型](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/2641551161/p85843.png)

## 深度学习、图像处理场景推荐

在该类场景中，应用需要高性能的GPU加速器，在GPU和CPU配比方面有如下建议。

-   深度学习训练：GPU与CPU比例推荐为1:8到1:12之间。
-   通用深度学习：GPU与CPU比例推荐为1:4到1:48之间。
-   图像识别推理：GPU与CPU比例推荐为1:4到1:12之间。
-   语音识别与合成推理：GPU与CPU比例推荐为1:16到1:48之间。

常见场景的GPU选型推荐如下图所示。

![GPU选型](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6467480061/p169458.png)

## 验证与调整

当您完成选型并开始使用ECS实例后，建议您根据一段时间的性能监控信息，验证所选实例规格是否合适。

假设您选择了ecs.g6e.xlarge，通过监控发现实例CPU使用率一直较低，建议您登录实例检查内存占用率是否较高，如果内存占用较高，您可以调整为处理器与内存资源配比更合适的规格族。更多详情，请参见以下文档：

-   [ECS自带监控服务](/intl.zh-CN/运维与监控/监控实例状态/查看实例监控信息.md)
-   [查看云盘监控信息](/intl.zh-CN/块存储/云盘/查看云盘监控信息.md)
-   [概览](/intl.zh-CN/主机监控/概览.md)

使用云服务器ECS的过程中，如果发生地域中库存不足、实例规格族停售、修改为更高性价比规格族、升级配置等情况，您可以根据实例规格族的特点进行变配。更多信息，请参见[升降配方式概述](/intl.zh-CN/实例/升降配实例/升降配方式概述.md)与[支持变配的实例规格](/intl.zh-CN/实例/升降配实例/修改实例规格/支持变配的实例规格.md)。

## 相关链接

更多应用场景说明，请参见[企业级配置选型](https://www.alibabacloud.com/product/ecs)。

